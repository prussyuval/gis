(this.webpackJsonpqgis=this.webpackJsonpqgis||[]).push([[0],{155:function(e,t,a){},157:function(e,t,a){},188:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(14),i=a.n(r),s=(a(155),a(6)),o=a(19),l=a(72),d=a(246),j=a(59),u=a(194),b=a(195),h=a(199),p=a(244),f=a(126),x=a.n(f),O=a(245),m=a(128),v=a.n(m),g=a(127),y=a.n(g),w=a(129),N=a.n(w),k=a(54),S=a(238),C=(a(156),a.p+"static/media/volcano.816c94d8.png"),B=(a(157),a(121)),I=a(18),T=a.n(I),q=a(25),E=a(122),D=a(43),L=a(29),V=a(87),F=a.n(V),M="https://data.opendatasoft.com/api/records/1.0/search/",R=function(){function e(){Object(D.a)(this,e)}return Object(L.a)(e,null,[{key:"logResponse",value:function(e,t){console.log("[".concat(e,"] Received response:")),console.log(t)}},{key:"get",value:function(){var e=Object(q.a)(T.a.mark((function e(){var t,a,n,c=arguments;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},a=c.length>1?c[1]:void 0,e.next=4,F.a.get(M,{cancelToken:a,params:t}).catch((function(e){return e.response}));case 4:return n=e.sent,this.logResponse("GET",n),e.abrupt("return",n.data);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"postWithUrl",value:function(){var e=Object(q.a)(T.a.mark((function e(t,a){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.post(t,a,{withCredentials:!1});case 3:n=e.sent,e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",null);case 9:return this.logResponse("POST",n),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}()}]),e}(),P=a(4),U=[{field:"id",headerName:"ID",hide:!0},{field:"name",headerName:"Name",description:"Volcano Name",sortable:!1,width:"180"},{field:"date",headerName:"Date",description:"Volcano explodation date",sortable:!0,width:"180"},{field:"elevation",headerName:"Elevation",description:"Volcano damage elevation",sortable:!1,width:"180"},{field:"location",headerName:"Location",description:"Volcano location",sortable:!1,width:"180"},{field:"country",headerName:"Country",description:"Volcano origin country",sortable:!1,width:"180"},{field:"status",headerName:"Status",description:"Volcano status",sortable:!1,width:"180"},{field:"deaths",headerName:"Deaths",description:"Deaths caused by the volcano",sortable:!0,width:"180"},{field:"coordinates",headerName:"Coordinates",description:"Volcano location",sortable:!1,width:"180"}],W=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!0),i=Object(s.a)(r,2),l=i[0],d=i[1],j=Object(o.f)();Object(n.useEffect)((function(){function e(){return(e=Object(q.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get({dataset:"significant-volcanic-eruption-database@public",facet:["year","status","coordinates","month","day"],rows:1e3});case 2:t=e.sent,c(t.records),d(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var u,b=[],h=Object(B.a)(a);try{for(h.s();!(u=h.n()).done;){var p=u.value,f="Unknown";f=p.fields.day?p.fields.year+"-"+p.fields.month+"-"+p.fields.day:p.fields.month?p.fields.year+"-"+p.fields.month:p.fields.year;var x=p.fields.coordinates[0]+" , "+p.fields.coordinates[1];b.push({id:p.recordid,name:p.fields.name,elevation:p.fields.elevation,location:p.fields.location,status:p.fields.status,deaths:p.fields.deaths,country:p.fields.country,date:f,coordinates:x})}}catch(O){h.e(O)}finally{h.f()}return Object(P.jsx)("div",{className:"table-container",children:Object(P.jsx)(E.a,{loading:l,onCellClick:function(e,t){var a=e.row.id;j.push("/gis/volcano/".concat(a)),t.defaultMuiPrevented=!0},rows:b,columns:U,pageSize:12,autoHeight:!0})})},H=a(125),J=a.n(H),Y=function(){var e=Object(n.useState)(0),t=Object(s.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){function e(){return(e=Object(q.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get({dataset:"significant-volcanic-eruption-database@public",facet:[],rows:1e4});case 2:t=e.sent,c(t.records.length);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(P.jsxs)("div",{className:"home-page",children:[Object(P.jsx)("div",{className:"site-title",children:"Volcano"}),Object(P.jsxs)("div",{className:"site-counter",children:[Object(P.jsx)(J.a,{start:0,formattingFn:function(e){return e.toLocaleString()},end:a,duration:1.5}),Object(P.jsx)("span",{className:"counter-text",children:"Total Volcanos in our site"})]}),Object(P.jsx)("iframe",{className:"main-map",src:"https://data.opendatasoft.com/explore/embed/dataset/significant-volcanic-eruption-database@public/map/?q=&location=2,3.18934,-1.52688&basemap=jawg.streets&static=false&datasetcard=false&scrollWheelZoom=false",width:"80%",height:"600",frameBorder:"0"})]})},Z=a(241),_=a(243),z=a(242),A=a(67),G=a.p+"static/media/loader.c0c2f010.gif",K=function(){var e=Object(n.useState)({}),t=Object(s.a)(e,2),a=t[0],c=t[1],r=Object(o.g)().id,i=Object(n.useState)(!0),l=Object(s.a)(i,2),d=l[0],j=l[1];return Object(n.useEffect)((function(){function e(){return(e=Object(q.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get({dataset:"significant-volcanic-eruption-database@public",facet:[],q:"recordid=".concat(r),rows:1});case 2:t=e.sent,c(t.records[0].fields),j(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),d?Object(P.jsx)("div",{className:"loader",children:Object(P.jsx)("img",{src:G,alt:""})}):Object(P.jsxs)("div",{className:"single-volcano",children:[Object(P.jsx)(Z.a,{className:"single-volcano-card",children:Object(P.jsxs)(z.a,{children:[Object(P.jsx)(A.a,{color:"textSecondary",gutterBottom:!0,children:"You are viewing volcano"}),Object(P.jsx)(A.a,{variant:"h5",component:"h2",className:"volcano-name",children:a.name}),Object(P.jsx)(A.a,{color:"textSecondary",children:a.status}),Object(P.jsxs)(A.a,{variant:"body2",component:"p",children:["This volcano exploded in ",a.country,".",Object(P.jsx)("br",{}),"Exact location: ",a.location,Object(P.jsxs)(_.a,{children:[Object(P.jsx)(A.a,{gutterBottom:!0,variant:"h5",component:"h2",children:"Type"}),Object(P.jsx)(A.a,{variant:"body2",color:"textSecondary",component:"p",children:a.type})]}),Object(P.jsxs)(_.a,{children:[Object(P.jsx)(A.a,{gutterBottom:!0,variant:"h5",component:"h2",children:"Year"}),Object(P.jsx)(A.a,{variant:"body2",color:"textSecondary",component:"p",children:a.year})]}),Object(P.jsxs)(_.a,{children:[Object(P.jsx)(A.a,{gutterBottom:!0,variant:"h5",component:"h2",children:"Month"}),Object(P.jsx)(A.a,{variant:"body2",color:"textSecondary",component:"p",children:a.month?a.month:"Unknown"})]}),Object(P.jsxs)(_.a,{children:[Object(P.jsx)(A.a,{gutterBottom:!0,variant:"h5",component:"h2",children:"Day"}),Object(P.jsx)(A.a,{variant:"body2",color:"textSecondary",component:"p",children:a.day?a.day:"Unknown"})]}),Object(P.jsxs)(_.a,{children:[Object(P.jsx)(A.a,{gutterBottom:!0,variant:"h5",component:"h2",children:"Elevation"}),Object(P.jsxs)(A.a,{variant:"body2",color:"textSecondary",component:"p",children:[a.elevation," Meters"]})]}),Object(P.jsxs)(_.a,{children:[Object(P.jsx)(A.a,{gutterBottom:!0,variant:"h5",component:"h2",children:"Explosivity Index"}),Object(P.jsx)(A.a,{variant:"body2",color:"textSecondary",component:"p",children:a.vei})]}),Object(P.jsxs)(_.a,{children:[Object(P.jsx)(A.a,{gutterBottom:!0,variant:"h5",component:"h2",children:"Deaths"}),Object(P.jsx)(A.a,{variant:"body2",color:"textSecondary",component:"p",children:a.deaths?a.deaths:0})]}),Object(P.jsxs)(_.a,{children:[Object(P.jsx)(A.a,{gutterBottom:!0,variant:"h5",component:"h2",children:"Injuries"}),Object(P.jsx)(A.a,{variant:"body2",color:"textSecondary",component:"p",children:a.injuries?a.injuries:0})]})]})]})}),Object(P.jsx)("iframe",{className:"single-volcano-map",src:"https://data.opendatasoft.com/explore/embed/dataset/significant-volcanic-eruption-database@public/map/?q=recordid=".concat(r,"&location=8,").concat(a.coordinates,"&basemap=jawg.streets&static=false&datasetcard=false&scrollWheelZoom=false"),width:"1200",height:"600",frameBorder:"0"})]})},Q=a(117),X=a(99),$=Object(Q.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:e.spacing(2),"& .MuiTextField-root":{margin:e.spacing(1),width:"300px"},"& .MuiButtonBase-root":{margin:e.spacing(2)}}}})),ee=function(e){e.handleClose;var t=$(),a=Object(n.useState)(""),c=Object(s.a)(a,2),r=c[0],i=c[1],o=Object(n.useState)(""),l=Object(s.a)(o,2),d=l[0],u=l[1],b=Object(n.useState)(""),h=Object(s.a)(b,2),p=h[0],f=h[1],x=Object(n.useState)(""),O=Object(s.a)(x,2),m=O[0],v=O[1],g=function(){var e=Object(q.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={first_name:r,last_name:d,email:p,password:m},e.next=3,R.postWithUrl("https://lichluchit.com/api/register",t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(P.jsxs)("div",{className:"register-title-form",children:[Object(P.jsx)(A.a,{variant:"h4",component:"h4",className:"register-title",children:"Register"}),Object(P.jsxs)("div",{className:t.root,children:[Object(P.jsx)(X.a,{label:"First Name",variant:"filled",required:!0,value:r,onChange:function(e){return i(e.target.value)}}),Object(P.jsx)(X.a,{label:"Last Name",variant:"filled",required:!0,value:d,onChange:function(e){return u(e.target.value)}}),Object(P.jsx)(X.a,{label:"Email",variant:"filled",type:"email",required:!0,value:p,onChange:function(e){return f(e.target.value)}}),Object(P.jsx)(X.a,{label:"Password",variant:"filled",type:"password",required:!0,value:m,onChange:function(e){return v(e.target.value)}}),Object(P.jsx)("div",{children:Object(P.jsx)(j.a,{type:"submit",variant:"contained",color:"primary",onClick:Object(q.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:case"end":return e.stop()}}),e)}))),children:"Signup"})})]})]})},te=Object(Q.a)((function(e){return{root:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:e.spacing(2),"& .MuiTextField-root":{margin:e.spacing(1),width:"300px"},"& .MuiButtonBase-root":{margin:e.spacing(2)}}}})),ae=function(e){var t=e.setLoggedIn,a=te(),c=Object(n.useState)(""),r=Object(s.a)(c,2),i=r[0],o=r[1],l=Object(n.useState)(""),d=Object(s.a)(l,2),u=d[0],b=d[1],h=function(){var e=Object(q.a)(T.a.mark((function e(){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={email:i,password:u},e.next=3,R.postWithUrl("https://lichluchit.com/api/login",a);case 3:"yes"===e.sent.data.data&&t(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(P.jsxs)("div",{className:"register-title-form",children:[Object(P.jsx)(A.a,{variant:"h4",component:"h4",className:"register-title",children:"Log In"}),Object(P.jsxs)("form",{className:a.root,children:[Object(P.jsx)(X.a,{label:"Email",variant:"filled",type:"email",required:!0,value:i,onChange:function(e){return o(e.target.value)}}),Object(P.jsx)(X.a,{label:"Password",variant:"filled",type:"password",required:!0,value:u,onChange:function(e){return b(e.target.value)}}),Object(P.jsx)("div",{children:Object(P.jsx)(j.a,{type:"button",variant:"contained",color:"primary",onClick:Object(q.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:case"end":return e.stop()}}),e)}))),children:"LogIn"})})]})]})},ne=function(){var e=c.a.useState(!1),t=Object(s.a)(e,2),a=t[0],n=t[1],r=Object(o.f)(),i=function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&n(e)}},l=function(e){r.push(e)};return Object(P.jsx)("div",{children:Object(P.jsxs)(c.a.Fragment,{children:[Object(P.jsx)(j.a,{onClick:i(!0),children:Object(P.jsx)(x.a,{style:{fill:"black"}})}),Object(P.jsx)(d.a,{anchor:"left",open:a,onClose:i(!1),children:Object(P.jsxs)("div",{className:"nav-bar",role:"presentation",onClick:i(!1),onKeyDown:i(!1),children:[Object(P.jsxs)(u.a,{children:[Object(P.jsxs)(b.a,{button:!0,onClick:function(){return l("/gis/")},children:[Object(P.jsx)(h.a,{children:Object(P.jsx)(y.a,{})}),Object(P.jsx)(p.a,{primary:"Home"})]},"Home"),Object(P.jsxs)(b.a,{button:!0,onClick:function(){return l("/gis/table")},children:[Object(P.jsx)(h.a,{children:Object(P.jsx)(v.a,{})}),Object(P.jsx)(p.a,{primary:"Table"})]},"Table")]}),Object(P.jsx)(O.a,{}),Object(P.jsx)(u.a,{children:Object(P.jsxs)(b.a,{button:!0,onClick:function(){return l("/gis/register")},children:[Object(P.jsx)(h.a,{children:Object(P.jsx)(N.a,{})}),Object(P.jsx)(p.a,{primary:"Register"})]},"Register")})]})})]},"left")})},ce=Object(k.b)({palette:{primary:{main:"rgb(223, 71, 89)"},secondary:{main:"rgb(223, 71, 89)"}}});var re=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],c=t[1];return console.log("loggedIn: ",a),Object(P.jsx)(S.a,{theme:ce,children:Object(P.jsx)(l.a,{children:Object(P.jsxs)("div",{className:"App",children:[Object(P.jsxs)("div",{className:"header",children:[Object(P.jsx)(ne,{}),Object(P.jsx)("img",{src:C,width:"25px",alt:""}),"Volcano"]}),Object(P.jsxs)(o.c,{children:[Object(P.jsx)(o.a,{exact:!0,path:"/gis/",children:Object(P.jsx)(Y,{})}),Object(P.jsx)(o.a,{path:"/gis/table",children:a?Object(P.jsx)(W,{}):Object(P.jsx)(ae,{setLoggedIn:c})}),Object(P.jsx)(o.a,{path:"/gis/volcano/:id",children:a?Object(P.jsx)(K,{}):Object(P.jsx)(ae,{setLoggedIn:c})}),Object(P.jsx)(o.a,{path:"/gis/register",children:Object(P.jsx)(ee,{})})]})]})})})},ie=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,249)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),r(e),i(e)}))};i.a.render(Object(P.jsx)(c.a.StrictMode,{children:Object(P.jsx)(re,{})}),document.getElementById("root")),ie()}},[[188,1,2]]]);
//# sourceMappingURL=main.a4ac9fda.chunk.js.map